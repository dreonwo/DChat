<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#91bfff">
    <meta name="keywords" content="chatapp, DChat, PWA">
    <meta name="description" content=" PWA Chat App that allows users to connect from a variety of devices">

    <link rel="apple-touch-icon" href="images/dchatlogo80x80.png">
    <link rel="apple-touch-icon" href="images/dchatlogo96x96.png">
    <link rel="apple-touch-icon" href="images/dchatlogo120x120.png">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="icon" href="images/dchatlogo80x80.png">
    <link rel="stylesheet" href="styles.css">

    <script>
        window.addEventListener('load', () =>{
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js').then(function(registration) {
                    //console.log('ServiceWorker registration successful!');
                }).catch(function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            }
        });
    </script>
    <script src = "main.js"></script>
    <script src = "firebase.mjs" type = "module"></script>
    <script src="https://kit.fontawesome.com/699106d578.js" crossorigin="anonymous"></script>
    <title>DChat</title>
</head>
<body>

    <div id="landingPage" style="display:none;">
        <img src = "images/DChatLogo.png" class="logo center" alt="This is the logo of the website DChat">
        <h1 class = "center">Welcome to DChat!</h1>
        <button id = "landingBtn" class = "center btn">Login Here</button>
    </div>

    <div id="main" class = "center" style = "display:none;">
        
        <div id="accountDiv" class="center">

            <i class="fa-solid fa-arrow-left-long"></i>

            <div id="loginDiv" class="center" style = "display:none;">

                <h2>Please Login Here</h2>

                <input type="text" id="loginEmail" class="accountInput" placeholder="Email">

                <br><br>

                <input type="password" id="loginPassword" class="accountInput" placeholder="Password">

                <br>

                <button id = "btnLogin" class="btn">Login</button>

                <p>Haven't signed up? <a>Click here!</a></p>

                <h2 class="btn goHome">Back Home</h2>
            </div>

            <div id="signupDiv" class ="center" style = "display:none;">

                <h2>Please Signup Here</h2>

                <input type="text" id="signupEmail" class="accountInput" placeholder="Email">

                <br> <br>

                <input type="text" id="signupUsername" class="accountInput" placeholder="Username">

                <br> <br>

                <input type="password" id="signupPassword" class="accountInput" placeholder="Password">

                <br>

                <button id = "btnSignup" class="btn">Sign up</button>
                
                <p>Already have an account? <a>Click here!</a></p>

                <h2 class="btn goHome">Back Home</h2>
            </div>

            <div id="usernameDiv" style = "display: none;">
                <h2>Please input username here</h2>
                <form id="usernameForm" action="">
                    <input type="text" id = "username">
                </form>
            </div>
        </div>
    </div>

    <div id="homePage" style = "display: none;">
        <h2>No Username</h2>

        <div id="btnLogout" class="btn">
             <i class="fas fa-arrow-left fa-xl"></i>
            <p>Logout</p>
        </div>

        <div id = "scroll" class = "center">
            <div id="search">
                <i class="fas fa-search"></i>
                <input id = "searchbox" type="text" placeholder="Search">
            </div>

            <div id="chats"></div>
        </div>

        <div id = "chatroom" class = "center">
            <header>
                <button id="backbtn">Back</button>
                <h2 id="name"></h2>
            </header>

                <div id="messages"></div>
                <input type="text" id="messagebox" placeholder="Please type here and press enter">
        </div>

    </div>

    <div class ="logout-confirmation-wrapper">
        <div class="logout-confirmation-screen">
            <p>Are you sure?</p>
            <div class="logout-confirmation-btns">
                <button class="logout-confirmation-yes">Yes</button>
                <button class="logout-confirmation-no">No</button>
            </div>
        </div>
    </div>

</body>
</html>